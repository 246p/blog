---
title: "2. Lexical Analysis"
date: 2024-01-10T17:46:04+09:00
tags: ["ì»´íŒŒì¼ëŸ¬", "Lexical Analysis"]
draft: false
categories: ["2024", "ì»´íŒŒì¼ëŸ¬"]
---

## Token
ë¬¸ìžì—´ì„ í•´ë‹¹ ë¬¸ìžì—´ì˜ ì˜ë¯¸í•˜ëŠ” ì—°ì‚°, ê°’ì— ë”°ë¼ tokenìœ¼ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìžˆë‹¤.
|Token  |Example|
|:---:|:---:|
|Keyword|int, void, if|
|Identifier|a, var_1|
|Integer| 10, 20|
|Operators | +, =, *|
|Whitespace| â€œ â€œ, \t, \n|

## Regula Expression
Tokenì„ ë‚˜ëˆ„ëŠ” ë°©ë²•ì€ Automataë¥¼ ì´ìš©í•œë‹¤. ì´ì— ì•žì„œ Regula Expression (RegEx) ì— ëŒ€í•´ì„œ ì•Œì•„ë³¼ í•„ìš”ê°€ ìžˆë‹¤.


RegExëŠ” Base caseì™€ Inductive caseë¡œ êµ¬ì„±ëœë‹¤.


### Regula language
1. ðšº ë¥¼ ì´ìš©í•˜ì—¬ symbolë“¤ì˜ ì§‘í•©ì„ í‘œê¸°í•œë‹¤.

ex) binary numbers : ðšº = {'0','1'}, lowercase letters : ðšº = {'a','b',...'z'}

2. WordëŠ” ì£¼ì–´ì§„ ðšºì˜ symbolë“¤ì˜ ë‚˜ì—´ì´ë‹¤.
- empty wordë¥¼ ë‚˜íƒ€ë‚¼ë•Œì—ëŠ” ðœ–ì„ ì‚¬ìš©í•œë‹¤.

ex) ðšº = {'0','1','2'} -> word : ðœ–, "1," ,"12", "012"

3. Languageëž€ wordì˜ ì§‘í•©ì„ ì˜ë¯¸í•œë‹¤.
- L1 = {"a","b","ab","aaaab",...}


### Base case
- ë¹ˆ ë¬¸ìžëŠ” ðœ–ë¡œ í‘œê¸°í•œë‹¤.
- í•˜ë‚˜ì˜ ë¬¸ìžëŠ” 'c' âˆˆ ðšº ë¡œ í‘œê¸°í•œë‹¤.
### Inductive case
- Union : R1|R2 : R1 or R2
- Concat : R1âˆ™R2 : R1 and R2
- Repeat : R* : Rì„ ë°˜ë³µ
- ìš°ì„ ìˆœìœ„ëŠ” * > âˆ™ > | ìˆœì´ë‹¤.

ex){ ð, "a", "aa", "aaa", ..., "b", "bb", "bbb", ... }

### Formal Definition of RegEx
L(R) : a set defined by R

![Formal](https://github.com/246p/blog/blob/main/Hugo/blog/content/post/compiler/2.Formal.png?raw=true)


## Defining Token
RegExë¥¼ ì´ìš©í•˜ì—¬ Tokenì„ ì •ì˜í•  ìˆ˜ ìžˆë‹¤.

- digit = | '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9'
- letter_ = [ 'A'-'Z' ] | [ 'a'-'z' ] | '_' 

- Keyword = "int" | "void" | "if" | "else" | ... 
- Integer = digit 
- Identifier = letter_ ( letter_ | digit )*
- Operator = "=" | "+" | "-" | ... 
- Whitespaces = (" " | "\t" | "\n")+ 


## Automata
Finite-state AutomataëŠ” NFA, DFA ë‘ ì¢…ë¥˜ê°€ ìžˆë‹¤.
### Non-deterministic finite automata (NFA)
> Initial state, Accepting stateê°€ ì¡´ìž¬í•˜ë©° ê° stateë“¤ì€ ðœ– ë˜ëŠ” ðšº ì— ë”°ë¼ ë³€í™”í•œë‹¤. ë‹¤ìŒ stateë¡œ ê°€ëŠ” Outgoing edgesë“¤ì´ ê°™ì€ symbolì„ ê³µìœ í•  ìˆ˜ ìžˆë‹¤.

![NFA](https://github.com/246p/blog/blob/main/Hugo/blog/content/post/compiler/2.NFA.png?raw=true)

NFA ë¥¼ ì´ìš©í•˜ì—¬ RegEx R = ('a'|'b')* âˆ™ 'a'ë¥¼ êµ¬í˜„í•´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

![NFA_ex](https://github.com/246p/blog/blob/main/Hugo/blog/content/post/compiler/2.NFA_ex.png?raw=true)

### Deterministic finite automata (DFA)
> initial state, Accepting stateê°€ ì¡´ìž¬í•˜ë©° ê° stateë“¤ì€ ðšºì— ë”°ë¼ ë³€í™”í•œë‹¤. ë‹¤ìŒ Stateë¡œ ê°€ëŠ” Outgoing edgesë“¤ì´ ê°™ì€ symbolì„ ê³µìœ  í•  ìˆ˜ ì—†ë‹¤.


### NFA to DFA
ìš°ë¦¬ëŠ” RegEx->NFA->DFA->Code(Lexer) ìˆœìœ¼ë¡œ ë³€í™˜í•˜ë ¤ê³  í•œë‹¤.

ì´ë¥¼ ìœ„ížˆ ð-closure ë¼ëŠ” ê°œë…ì„ ë„ìž…í•œë‹¤.
- ð-closure(S) : Sì—ì„œ symbol ì—†ì´ ë„ë‹¬ í•  ìˆ˜ ìžˆëŠ” stateì˜ ì§‘í•©

![e-closure](https://github.com/246p/blog/blob/main/Hugo/blog/content/post/compiler/2.e-closure.png?raw=true)
ìœ„ ê·¸ë¦¼ì—ì„œ ð-closure({s2,s5}) = {s2,s5,s6} ì´ë‹¤.




ëª¨í˜¸ì„±(Ambiguity) ì´ ì¡´ìž¬í•¨ > ìš°ì„ ìˆœìœ„ë¥¼ ì •í•´ë†“ì•„ì•¼í•¨
